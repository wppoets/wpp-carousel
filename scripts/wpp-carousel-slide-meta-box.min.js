+function(e){function l(){var l=['<tr id="wpp-carousel-slide-row-'+wpp_carousel_slide_next_row_id+'" class="wpp-carousel-slide-row">','	<td class="wpp-carousel-slide-colunm-1">','		<button type="button" class="button wpp-carousel-slide-remove-slide">-</button>','		<input class="wpp-carousel-slide-field-removed" type="hidden" name="wpp_carousel_slide_fields[rows]['+wpp_carousel_slide_next_row_id+'][removed]" value="false">',"	</td>",'	<td class="wpp-carousel-slide-colunm-2">','		Image: (<a class="wpp-carousel-slide-select-image-button" href="#">change</a>)<br />','		<div class="wpp-carousel-slide-image wpp-carousel-slide-image-not-selected"><img class="wpp-carousel-slide-field-image-src" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=" width="150" height="150" /></div>','		<input class="wpp-carousel-slide-field-image-id" type="hidden" name="wpp_carousel_slide_fields[rows]['+wpp_carousel_slide_next_row_id+'][image_id]" value="false">',"	</td>",'	<td class="wpp-carousel-slide-colunm-3">','		<input class="wpp-carousel-slide-field-post-id" type="hidden" name="wpp_carousel_slide_fields[rows]['+wpp_carousel_slide_next_row_id+'][post_id]" value="false">','		<input class="wpp-carousel-slide-field-title-enabled" type="checkbox" name="wpp_carousel_slide_fields[rows]['+wpp_carousel_slide_next_row_id+'][title_enabled]" value="true" />Title:<br />','		<input class="wpp-carousel-slide-field-title widefat" type="text" name="wpp_carousel_slide_fields[rows]['+wpp_carousel_slide_next_row_id+'][title]" value="" /><br />','		<input class="wpp-carousel-slide-field-link-enabled" type="checkbox" name="wpp_carousel_slide_fields[rows]['+wpp_carousel_slide_next_row_id+'][link_enabled]" value="true" />Link:<br />','		<input class="wpp-carousel-slide-field-link widefat" type="text" name="wpp_carousel_slide_fields[rows]['+wpp_carousel_slide_next_row_id+'][link]" value="" /><br />','		<input class="wpp-carousel-slide-field-caption-enabled" type="checkbox" name="wpp_carousel_slide_fields[rows]['+wpp_carousel_slide_next_row_id+'][caption_enabled]" value="true" />Caption:<br />','		<textarea class="wpp-carousel-slide-field-caption widefat" rows="1" cols="40" name="wpp_carousel_slide_fields[rows]['+wpp_carousel_slide_next_row_id+'][caption]"></textarea>',"	</td>",'	<td class="wpp-carousel-slide-colunm-4">','		<div class="wpp-carousel-slide-sort dashicons dashicons-sort"></div>','		<input type="hidden" name="wpp_carousel_slide_fields[rows]['+wpp_carousel_slide_next_row_id+'][type]" value="static">','		<input type="hidden" name="wpp_carousel_slide_fields[sort_order][]" value="'+wpp_carousel_slide_next_row_id+'">',"	</td>","</tr>"].join("");e("#wpp-carousel-slide-table tbody").append(l),e("#wpp-carousel-slide-table .wpp-carousel-slide-empty-row").hide(),wpp_carousel_slide_next_row_id++,wpp_carousel_slide_visible_slides++}function s(){var l=['<tr id="wpp-carousel-slide-row-'+wpp_carousel_slide_next_row_id+'" class="wpp-carousel-slide-row">','	<td class="wpp-carousel-slide-colunm-1"><button type="button" class="button wpp-carousel-slide-remove-slide">-</button><input type="hidden" name="wpp_carousel_slide_fields[rows]['+wpp_carousel_slide_next_row_id+'][removed]" class="wpp-carousel-slide-field-removed" value="false"><input type="hidden" name="wpp_carousel_slide_fields[rows]['+wpp_carousel_slide_next_row_id+'][type]" value="dynamic"></td>','	<td class="wpp-carousel-slide-colunm-2">Image: ( N/A )<div class="wpp-carousel-slide-image wpp-carousel-slide-image-not-available"><img class="wpp-carousel-slide-select-image-src" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=" width="150" height="150" /></div></td>','	<td class="wpp-carousel-slide-colunm-3"><div class="wpp-carousel-slide-not-implamented">Feature not implamented yet</div></td>','	<td class="wpp-carousel-slide-colunm-4"><div class="wpp-carousel-slide-sort dashicons dashicons-sort"></div><input type="hidden" name="wpp_carousel_slide_fields[sort_order][]" value="'+wpp_carousel_slide_next_row_id+'"></td>',"</tr>"].join("");e("#wpp-carousel-slide-table tbody").append(l),e("#wpp-carousel-slide-table .wpp-carousel-slide-empty-row").hide(),wpp_carousel_slide_next_row_id++,wpp_carousel_slide_visible_slides++}e(document).ready(function(){console.log("wpp_carousel_slide_post_id = "+wpp_carousel_slide_post_id),console.log("wpp_carousel_slide_last_row_id = "+wpp_carousel_slide_next_row_id),e("#wpp-carousel-slide-table tbody").sortable({opacity:.6,revert:!0,cursor:"move",handle:".wpp-carousel-slide-sort"}),e("#wpp-carousel-slide-table").on("click",".wpp-carousel-slide-select-image-button",function(l){l.preventDefault();var s=e(this).parents("td").children("input.wpp-carousel-slide-field-image-id"),i=e(this).parents("td").children(".wpp-carousel-slide-image").children("img.wpp-carousel-slide-field-image-src");console.log(s),console.log(i);var d=wp.media({title:"Select Slide Image",button:{text:"Select Slide Image"},library:{type:"image"},multiple:!1}).on("select",function(){var e=d.state().get("selection").first().toJSON();s.val(e.id),i.attr("src",e.sizes.thumbnail?e.sizes.thumbnail.url:e.url)}).open()}),e("#wpp-carousel-slide-table").on("click",".wpp-carousel-slide-add-static-slide",function(e){e.preventDefault(),l()}),e("#wpp-carousel-slide-table").on("click",".wpp-carousel-slide-add-dynamic-slide",function(e){e.preventDefault(),s()}),e("#wpp-carousel-slide-table tbody").on("click",".wpp-carousel-slide-remove-slide",function(l){l.preventDefault();var s=confirm("Are you sure you want to remove the slide?");s&&(e(this).parents("td").children("input.wpp-carousel-slide-field-removed").val("true"),e(this).parents("tr").hide(),wpp_carousel_slide_visible_slides--,0>=wpp_carousel_slide_visible_slides&&(e("#wpp-carousel-slide-table .wpp-carousel-slide-empty-row").show(),wpp_carousel_slide_visible_slides=0))}),e.each(wpp_carousel_slide_starting_data,function(i,d){d.slide_type=d.slide_type||"",d.row_id=wpp_carousel_slide_next_row_id,"static"==d.slide_type?(l(),d.slide_image_id&&d.slide_image_src&&(e("#wpp-carousel-slide-row-"+d.row_id+" .wpp-carousel-slide-field-image-id").val(d.slide_image_id||"false"),e("#wpp-carousel-slide-row-"+d.row_id+" .wpp-carousel-slide-field-image-src").attr("src",d.slide_image_src)),e("#wpp-carousel-slide-row-"+d.row_id+" .wpp-carousel-slide-field-post-id").val(d.slide_post_id||"false"),e("#wpp-carousel-slide-row-"+d.row_id+" .wpp-carousel-slide-field-title-enabled").prop("checked",d.slide_title_enabled),e("#wpp-carousel-slide-row-"+d.row_id+" .wpp-carousel-slide-field-title").val(d.slide_title||""),e("#wpp-carousel-slide-row-"+d.row_id+" .wpp-carousel-slide-field-link-enabled").prop("checked",d.slide_link_enabled),e("#wpp-carousel-slide-row-"+d.row_id+" .wpp-carousel-slide-field-link").val(d.slide_link||""),e("#wpp-carousel-slide-row-"+d.row_id+" .wpp-carousel-slide-field-caption-enabled").prop("checked",d.slide_caption_enabled),e("#wpp-carousel-slide-row-"+d.row_id+" .wpp-carousel-slide-field-caption").val(d.slide_caption||"")):"dynamic"==d.slide_type&&s()}),e("#wpp-carousel-slide-table .wpp-carousel-slide-empty").html(wpp_carousel_slide_empty_message||"")})}(jQuery);