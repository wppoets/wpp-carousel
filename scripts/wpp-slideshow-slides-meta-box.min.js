+function(e){e(document).ready(function(){wpp_slideshow_slides.append_row=function(s){var i=wpp_slideshow_slides.new_row(wpp_slideshow_slides.next_row,s);e("#wpp-slideshow-slides-table tbody").append(i),e("#wpp-slideshow-slides-table .wpp-slideshow-slides-empty-row").hide(),wpp_slideshow_slides.next_row++,wpp_slideshow_slides.visible_slides++},wpp_slideshow_slides.fill_data=function(s,i){e(s).is("input:checkbox")?e(s).prop("checked",i):e(s).is("input")||e(s).is("textarea")?e(s).val(i):e(s).is("img")&&e(s).attr("src",i)},e("#wpp-slideshow-slides-confirm-delete-dialog").dialog({autoOpen:!1,resizable:!1,height:200,modal:!0,buttons:{"Delete slide":function(){e(this).data("button").parents("td").children("input.wpp-slideshow-slides-field-removed").val("true"),e(this).data("button").parents("tr").hide(),wpp_slideshow_slides.visible_slides--,wpp_slideshow_slides.visible_slides<=0&&(e("#wpp-slideshow-slides-table .wpp-slideshow-slides-empty-row").show(),wpp_slideshow_slides.visible_slides=0),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}}),e("#wpp-slideshow-slides-slide-type-dialog").dialog({autoOpen:!1,height:250,width:300,modal:!0,buttons:{"Create slide":function(){slide_type=e("#wpp-slideshow-slides-slide-type-dialog").find("input[name=slide_type]:checked").val(),slide_type&&wpp_slideshow_slides.append_row(slide_type),e(this).dialog("close")},Cancel:function(){e(this).dialog("close")}}}),e("#wpp-slideshow-slides-table tbody").sortable({opacity:.6,revert:!0,cursor:"move",handle:".wpp-slideshow-slides-sort"}),e("#wpp-slideshow-slides-slide-type-dialog").find("input[name=slide_type]:first").attr("checked",!0),e("#wpp-slideshow-slides-table").on("click",".wpp-slideshow-slides-add-slide",function(s){s.preventDefault(),e("#wpp-slideshow-slides-slide-type-dialog").dialog("open")}),e("#wpp-slideshow-slides-table").on("click",".wpp-slideshow-slides-select-image-button",function(s){s.preventDefault();var i=e(this).parents("td").children("input.wpp-slideshow-slides-field-image-id"),l=e(this).parents("td").children(".wpp-slideshow-slides-image").children("img.wpp-slideshow-slides-field-image-src");console.log(i),console.log(l);var d=wp.media({title:"Select Slide Image",button:{text:"Select Slide Image"},library:{type:"image"},multiple:!1}).on("select",function(){var e=d.state().get("selection").first().toJSON();i.val(e.id),l.attr("src",e.sizes.thumbnail?e.sizes.thumbnail.url:e.url)}).open()}),e("#wpp-slideshow-slides-table tbody").on("click",".wpp-slideshow-slides-remove-slide",function(s){s.preventDefault(),e("#wpp-slideshow-slides-confirm-delete-dialog").dialog("open").data("button",e(this))}),e.each(wpp_slideshow_slides.starting_data,function(s,i){var l=wpp_slideshow_slides.next_row;i.slide_type=i.slide_type||"",wpp_slideshow_slides.append_row(i.slide_type),e.each(i,function(s,i){var d="#wpp-slideshow-slides-row-"+l+" .wpp-slideshow-slides-field-"+s.replace("slide_","").replace("_","-"),p="#wpp-slideshow-slides-row-"+l+" .wpp-slideshow-slides-field-"+s.replace("slide-","").replace("-","_");e(d).length?wpp_slideshow_slides.fill_data(d,i):e(p).length&&wpp_slideshow_slides.fill_data(p,i)})}),e("#wpp-slideshow-slides-table .wpp-slideshow-slides-empty").html(wpp_slideshow_slides.empty_message||"")})}(jQuery);